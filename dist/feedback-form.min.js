/**
 * feedback-form - v0.0.7 - 2014-12-21
 *
 * Copyright (c) 2014 Bound State Software
 */
!function(a){function b(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function c(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(a,b){return a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)}function e(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,function(){c.call(a)})}function f(a){return a.outerHTML||(new XMLSerializer).serializeToString(a)}function g(a,b){var c=a.getElementsByTagName("input"),d=b.getElementsByTagName("input");for(i=0;i<c.length;i++)"checkbox"==c[i].type?d[i].setAttribute("checked",c[i].checked):"password"!=c[i].type&&d[i].setAttribute("value",c[i].value);var e=a.getElementsByTagName("textarea"),f=b.getElementsByTagName("textarea");for(i=0;i<e.length;i++)f[i].innerHTML=e[i].value;var g=a.getElementsByTagName("select"),h=b.getElementsByTagName("select");for(i=0;i<g.length;i++)h[i].options[g[i].selectedIndex].setAttribute("selected","selected")}function h(){var a=document.doctype;return"<!DOCTYPE "+a.name+(a.publicId?' PUBLIC "'+a.publicId+'"':"")+(!a.publicId&&a.systemId?" SYSTEM":"")+(a.systemId?' "'+a.systemId+'"':"")+">"}function j(a){a.parentNode.removeChild(a)}a.FeedbackForm={embed:function(f){function g(){q.style.display="block",setTimeout(function(){b(q,"feedback-form-tooltip-active")},0)}function h(){c(q,"feedback-form-tooltip-active"),setTimeout(function(){q.style.display="none"},200)}function i(){o.style.display="block",setTimeout(function(){b(o,"feedback-form-popup-active")},0)}function j(){c(o,"feedback-form-popup-active"),setTimeout(function(){o.style.display="none"},200)}var k=document.createElement("link");k.id="feedback-form-stylesheet",k.rel="stylesheet",k.type="text/css",k.media="screen,print",k.href=f.css,document.getElementsByTagName("head")[0].appendChild(k);var l=document.createElement("div");l.id="feedback-form",b(l,"feedback-form"),document.body.appendChild(l);var m=document.createElement("iframe");m.src=f.url,m.style.height=f.height||"300px";var n=document.createElement("a");n.innerHTML="Ã—",b(n,"feedback-form-popup-close-btn");var o=document.createElement("div");o.style.display="none",b(o,"feedback-form-popup"),o.appendChild(m),o.appendChild(n),l.appendChild(o);var p=document.createElement("a");b(p,"feedback-form-btn"),l.appendChild(p);var q=document.createElement("div");q.style.display="none",q.innerHTML="Send us a message!",b(q,"feedback-form-tooltip"),l.appendChild(q),setTimeout(g,200),setTimeout(h,8e3),e(p,"click",function(){d(o,"feedback-form-popup-active")?j():i(),h()}),e(n,"click",function(){j()});var r=f.url.match(/^(https?\:\/\/[^\/?#]+)/i)[1],s=this;e(a,"message",function(a){if(a.origin===r&&(a.data.request="getClientInfo")){var b=s.getClientInfo();"undefined"!=typeof a.data.screenshot&&a.data.screenshot&&(b.documentHTML=s.getDocumentHTML()),m.contentWindow.postMessage(b,r)}})},getClientInfo:function(){return{url:a.location.href,userAgent:navigator.userAgent,window:{width:a.innerWidth||document.body.clientWidth,height:a.innerHeight||document.body.clientHeight,xOffset:a.pageXOffset||document.documentElement.scrollLeft,yOffset:a.pageYOffset||document.documentElement.scrollTop}}},getDocumentHTML:function(){var a=document.cloneNode(!0);return g(document,a),j(a.getElementById("feedback-form-stylesheet")),j(a.getElementById("feedback-form")),h()+"\n"+f(a.documentElement)}}}(window);